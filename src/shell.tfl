(print! "Trifle interpreter. Type (exit!) to quit.\n")

(while #true
  (try
    (for-each expression (parse (input "> "))
      (print! (printable (eval expression)))
    )
    :catch error e
    (do
      ;; TODO: it would be nice show the type of the exception too.
      (print! "Unhandled error:")
      (print! (message e))
    )
  )
  (print! "")
)
